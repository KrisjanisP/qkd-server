<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="tables.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Centis</title>
</head>

<body>
    <main class="container">
        <h1>Centis - QAAS admin panel</h1>
        <p>
            This is a simple admin panel for QAAS (QKD as a service). It allows you to send requests to the KDCs (key
            distribution centers) and monitor the
            keys.
        </p>
        <!-- KDC config (KDCC) -->
        <fieldset>
            <legend>KDC config</legend>
            <div class="responsive-input-group">
                <label for="kdcc-aija-url">Aija URL</label>
                <input type="text" id="kdcc-aija-url" value="ws://localhost:8080/ws" class="form-control" size="30" />
            </div>
            <div class="responsive-input-group">
                <label for="kdcc-brencis-url">Brencis URL</label>
                <input type="text" id="kdcc-brencis-url" value="ws://localhost:8081/ws" class="form-control"
                    size="30" />
            </div>
            <div class="responsive-input-group">
                <label for="kdcc-password">Password</label>
                <input type="password" id="kdcc-password" value="1234567890" class="form-control" size="30" />
            </div>
        </fieldset>
        <section>
            <h2>Requests</h2>
            <!-- reserveKeyAndGetKeyHalf  (RKAGKH)-->
            <fieldset>
                <legend><code>reserveKeyAndGetKeyHalf</code> request</legend>
                <div class="responsive-input-group">
                    <label for="rkagkh-kdc">QKDC</label>
                    <select id="rkagkh-kdc" class="form-control">
                        <option value="Aija">Aija</option>
                        <option value="Brencis">Brencis</option>
                    </select>
                </div>
                <div class="responsive-input-group">
                    <label for="rkagkh-key-length">Key Length</label>
                    <input type="number" id="rkagkh-key-length" value="256" disabled />
                </div>
                <div class="responsive-input-group">
                    <label for="rkagkh-c-nonce">Crypto Nonce</label>
                    <input type="number" id="rkagkh-c-nonce" value="42069" />
                </div>
                <div style="margin-top: 1rem;">
                    <div class="responsive-input-group" id="rkagkh-error">
                        input status: <code>?</code>
                    </div>
                    <div class="responsive-input-group" id="rkagkh-encoded">
                        ASN.1 encoded request: <code>?</code>
                    </div>
                    <div class="responsive-input-group">
                        <input id="rkagkh-send" type="button" value="SEND reserveKeyAndGetKeyHalf" class="btn" />
                    </div>
                </div>
                <fieldset>
                    <legend>response</legend>
                    <!--adjust first column of table so it's shorter-->

                    <table class="response-table" style="width: 100%;">
                        <colgroup>
                            <col span="1" style="width: 20%" />
                            <col span="1" style="width: 80%" />
                        </colgroup>
                        <tr>
                            <td>crypto nonce</td>
                            <td><code id="rkagkh-resp-c-nonce">?</code></td>
                        </tr>
                        <tr>
                            <td>err code</td>
                            <td><code id="rkagkh-resp-err-code">?</code></td>
                        </tr>
                        <tr>
                            <td>key id</td>
                            <td><code id="rkagkh-resp-key-id">?</code></td>
                        </tr>
                        <tr>
                            <td>this half</td>
                            <td><code id="rkagkh-resp-this-half">?</code></td>
                        </tr>
                        <tr>
                            <td>other hash</td>
                            <td><code style="display:inline-flex;max-width: 100%; overflow:auto;"
                                    id="rkagkh-resp-other-hash">?</code></td>
                        </tr>
                        <tr>
                            <td>hash alg id</td>
                            <td><code id="rkagkh-resp-hash-alg-id">?</code></td>
                        </tr>
                    </table>
                </fieldset>
            </fieldset>
            <!-- getKeyHalf (GKH)-->
            <fieldset>
                <legend><code>getKeyHalf</code> request</legend>
                <div class="responsive-input-group">
                    <!-- select element with options Aija and Brencis -->
                    <label for="gkh-kdc">QKDC</label>
                    <select id="gkh-kdc" class="form-control">
                        <option value="Aija">Aija</option>
                        <option value="Brencis">Brencis</option>
                    </select>
                </div>
                <div class="responsive-input-group">
                    <label for="gkh-key-length">Key Length</label>
                    <input type="number" id="gkh-key-length" value="256" />
                </div>
                <div class="responsive-input-group">
                    <label for="gkh-key-id">Key Id</label>
                    <input type="text" id="gkh-key-id" value="0410000102030405060708090A0B0C0D0E0F" size="36" />
                </div>
                <div class="responsive-input-group">
                    <label for="gkh-c-nonce">Crypto Nonce</label>
                    <input type="number" id="gkh-c-nonce" value="42069" />
                </div>
                <div class="responsive-input-group">
                    <input type="button" onclick="alert(123)" value="SEND getKeyHalf" class="btn" />
                </div>
            </fieldset>
            <!-- GetState (GS) & SetState (SS)-->
            <fieldset>
                <legend><code>getState & setState</code> request</legend>
                <div class="responsive-input-group">
                    <!-- select element with options Aija and Brencis -->
                    <label for="gs-kdc">QKDC</label>
                    <select id="gs-kdc" class="form-control">
                        <option value="Aija">Aija</option>
                        <option value="Brencis">Brencis</option>
                    </select>
                </div>
                <div class="responsive-input-group">
                    <input type="button" onclick="alert(123)" value="SEND getState" class="btn" />
                </div>
            </fieldset>
        </section>

        <h2>Key Monitoring</h2>
        <input type="button" onclick="toggle_watch_keys()" value="start watching keys" class="btn" />
        <table style="margin: 1rem 0;" class="key-table">
            <colgroup>
                <col span="1" style="width: 30%" />
                <col span="1" style="width: 15%" />
                <col span="1" style="width: 15%" />
                <col span="1" style="width: 20%" />
                <col span="1" style="width: 20%" />
            </colgroup>
            <thead>
                <tr>
                    <th>key id</th>
                    <th>left</th>
                    <th>right</th>
                    <th>hash(left)</th>
                    <th>hash(right)</th>
                </tr>
            </thead>
            <tbody id="my-table"></tbody>
        </table>
    </main>
    <footer style="margin-top: 4rem; text-align: right;">
        <div class="container">
            <!--create a link to github repo https://github.com/KrisjanisP/qkdc-service -->
            <p>For more information visit project's GitHub repo: <a
                    href="https://github.com/KrisjanisP/qkdc-service">here.</a> </p>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="utils.js"></script>
    <script src="reserve-key.js"></script>

</body>

</html>